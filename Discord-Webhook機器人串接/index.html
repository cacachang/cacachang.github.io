<!DOCTYPE html><html lang="zh-TW"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>Discord Webhook機器人串接 · NingLab</title><meta name="description" content="🗣️ OOO頻道 歡迎 林小姐 加入🗣️ 陳先生你好 我們是省很大購物網
機器人式招呼已經充斥我們的生活不曉得你是否好奇 這些機器人是怎麼設定的呢？
今天我們就來看一下 怎麼在 Discord 上串接機器人
1. 到dicord建立伺服器通常加入一個群組、頻道，機器人就會被派出來接待所以起手式當"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/ning.jpg" style="width:200px;"><h3 title=""><a href="/">NingLab</a></h3></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://twitter.com/ningchang_"><i class="fa fa-twitter"></i></a></li><li><a target="_blank" rel="noopener" href="https://github.com/cacachang"><i class="fa fa-github"></i></a></li><li><a href="mailto:a24701770@gmail.com"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.instagram.com/web543_/"><i class="fa fa-instagram"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/%E7%8F%88%E5%AF%A7-%E5%BC%B5-140a86125/"><i class="fa fa-linkedin"></i></a></li></ul><div class="footer"><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/archives">文章</a></li><li><a href="/categories">目錄</a></li><li><a href="/about">關於 Ning</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Discord Webhook機器人串接</a></h3></div><div class="post-content"><p>🗣️ OOO頻道 歡迎 林小姐 加入<br>🗣️ 陳先生你好 我們是省很大購物網</p>
<p>機器人式招呼已經充斥我們的生活<br>不曉得你是否好奇 這些機器人是怎麼設定的呢？</p>
<p>今天我們就來看一下 怎麼在 Discord 上串接機器人</p>
<h2 id="1-到dicord建立伺服器"><a href="#1-到dicord建立伺服器" class="headerlink" title="1. 到dicord建立伺服器"></a>1. <strong>到dicord建立伺服器</strong></h2><p>通常加入一個群組、頻道，機器人就會被派出來接待<br>所以起手式當然是 建立伺服器 ！<br>跟我一起來打造你的秘密頻道😎</p>
<p>step1 到discord左側按+ 之後選擇伺服器類型</p>
<p><img src="https://i.imgur.com/y47V5CR.png"></p>
<p>step2 建立完成</p>
<p><img src="https://i.imgur.com/WTALSKK.png"></p>
<h2 id="2-做一個機器人"><a href="#2-做一個機器人" class="headerlink" title="2. 做一個機器人"></a>2. <strong>做一個機器人</strong></h2><p>環境都架設好了，接下來就是主角登場的時候了吧！<br>機器人打造區 👉 <a target="_blank" rel="noopener" href="https://discord.com/developers/applications">https://discord.com/developers/applications</a></p>
<p>打造你的機器人囉</p>
<p>step1 新增Application</p>
<p><img src="https://i.imgur.com/nKAzTC9.png"></p>
<p>step2 創建一個機器人</p>
<p><img src="https://i.imgur.com/qFAYHzU.png"></p>
<p>step3 do it！</p>
<p><img src="https://i.imgur.com/Yz8rlvK.png"></p>
<p>step4 幫機器人取名</p>
<p><img src="https://i.imgur.com/Y19AHHn.png"></p>
<p>step5 取得Token(務必好好保存啊！)</p>
<p><img src="https://i.imgur.com/MFs1JO2.png"></p>
<p>🤓 小知識時間<br>token：token就像是許可證，只有認證過的API及程式才能導入。<br>簡單來說，就是防衛機制，防止想搞事的壞程式來破壞你的伺服器，我想這種情況大家都不想遇到吧？<br>所以我們要發token給機器人，讓他順利進入我們的秘密頻道<br>＊注意！不要隨便把token給別人，不然你很有可能會引狼入室</p>
<p>成功做出機器人後，我們就要先讓機器人入場啦！</p>
<h2 id="3-產出Oauth2-URL，讓機器人加入頻道！"><a href="#3-產出Oauth2-URL，讓機器人加入頻道！" class="headerlink" title="3. 產出Oauth2 URL，讓機器人加入頻道！"></a>3. <strong>產出Oauth2 URL，讓機器人加入頻道！</strong></h2><p>step1 到URL產生頁面，選取bot</p>
<p><img src="https://i.imgur.com/TdQ1eAF.png"></p>
<p>step2 選取權限及功能，選完複製網址</p>
<p><img src="https://i.imgur.com/G8IbOyl.png"></p>
<p>step3 到新分頁貼上網址，授權機器人</p>
<img src="https://i.imgur.com/uHLDYWz.png" height="50%" />

<p>🤓 小知識時間<br>Oauth2：將保護的資料授權給應用程式的驗證方式，我們使用步驟來說明<br>step1 客戶端(我們)向資源擁有者(discord頻道)提出授權請求<br>step2 授權伺服器(discord)核發Token給客戶端(我們)<br>step3 客戶端(我們)要存取時，必須出示這個Token<br>step4 資源擁有者決定是否要授權</p>
<h2 id="4-取得discord-webhook"><a href="#4-取得discord-webhook" class="headerlink" title="4. 取得discord webhook"></a>4. <strong>取得discord webhook</strong></h2><p>step1 伺服器下拉選單選伺服器設定</p>
<img src="https://i.imgur.com/nK6AbFZ.png" height="50%" />

<p>step2 產生新的webhook</p>
<p><img src="https://i.imgur.com/UJpgxF4.png"></p>
<p>step3 複製webhook網址</p>
<p><img src="https://i.imgur.com/zSYsr1J.png"></p>
<p>機器人雖然加入到我們的頻道了<br>但需要一個開關讓他開口</p>
<p>剛剛有提到webhook可以幫我們送請求給伺服器<br>請他呼應我們的需求</p>
<p>這時候，我們就要拿出webhook叫醒機器人！！</p>
<h2 id="5-開啟replit，開始寫程式囉～"><a href="#5-開啟replit，開始寫程式囉～" class="headerlink" title="5. 開啟replit，開始寫程式囉～"></a>5. <strong>開啟replit，開始寫程式囉～</strong></h2><p>環境、主角都有了，接下來就是缺劇本啦！<br>讓我們開始來編寫劇本(程式)</p>
<p>我們採取axios這個套件來解析JSON，並存取裡面的資料</p>
<p>🤓 小知識時間<br>axios：一種發送HTTP request給伺服器的套件，發送請求後會回傳Promise物件</p>
<p>打開新的分頁 👉 <a target="_blank" rel="noopener" href="https://replit.com/">https://replit.com/</a>~<br>用下面的程式碼來修改</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 導入axios套件</span></span><br><span class="line"><span class="keyword">var</span> axios = <span class="built_in">require</span>(<span class="string">&#x27;axios&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">  <span class="string">&quot;content&quot;</span>: <span class="string">&quot;TEST BOT&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 發送API請求的內容，method為打入的方法，url為打入路徑，headers為打入的API是什麼格式，data則是API的參數</span></span><br><span class="line"><span class="keyword">var</span> config = &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;webhook的URL&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123; </span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">  &#125;,  </span><br><span class="line">  <span class="attr">data</span>: data</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">axios</span>(config)</span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">data</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="6-啟動"><a href="#6-啟動" class="headerlink" title="6. 啟動"></a>6. <strong>啟動</strong></h2><p>萬事俱備，只欠按下按鈕，現在就給他按下去！</p>
<p>按下去的瞬間會聽到discord清脆的訊息通知聲！</p>
<p><img src="https://i.imgur.com/h8hv6Sz.png"></p>
<p>噹啷！機器人成功發訊息囉！</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2022-08-12</span><i class="fa fa-tag"></i><a class="tag" href="/categories/其他/" title="其他">其他 </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://ninglab.com/Discord-Webhook機器人串接/,NingLab,Discord Webhook機器人串接,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/%E8%AE%93%E7%B6%B2%E9%A0%81%E6%9B%B4%E9%A0%86%E6%9A%A2%E7%9A%84%E5%B9%95%E5%BE%8C%E6%8E%A8%E6%89%8B-Rails-UJS-Unobtrusive-JavaScript/" title="小機制大效用 一用就回不去的 Rails UJS - Unobtrusive JavaScript">Post Anterior</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>