<!DOCTYPE html><html lang="zh-TW"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>工程師的日常 - 從測試開始 PART 1 · NingLab</title><meta name="description" content="身為一個 Rails Developer寫測試是必備的基本功
今天就來跟大家聊聊寫測試這件事

什麼是測試？
為什麼要寫測試？
測試分成哪些類型
有哪些工具可以幫我們完成測試？
測試該從哪開始？
3A 原則

什麼是測試？我們來看看維基百科怎麼定義。

測試  描述一種用來促進鑑定軟體的正確性、完整"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><script async src="https://www.googletagmanager.com/gtag/js?id=G-4P2R013PGL"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-4P2R013PGL')
</script><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.jpeg" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/ning.jpg" style="width:200px;"><h3 title=""><a href="/">NingLab</a></h3></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://twitter.com/ningchang_"><i class="fa fa-twitter"></i></a></li><li><a target="_blank" rel="noopener" href="https://github.com/cacachang"><i class="fa fa-github"></i></a></li><li><a href="mailto:a24701770@gmail.com"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.instagram.com/web543_/"><i class="fa fa-instagram"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/cacachang/"><i class="fa fa-linkedin"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCwRiNPzYITZWaif23HTmHZQ"><i class="fa fa-youtube"></i></a></li></ul><div class="footer"><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首頁</a></li><li><a href="/archives">文章</a></li><li><a href="/categories">目錄</a></li><li><a href="/about">關於 Ning</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>工程師的日常 - 從測試開始 PART 1</a></h3></div><div class="post-content"><p>身為一個 Rails Developer<br>寫測試是必備的基本功</p>
<p>今天就來跟大家聊聊寫測試這件事</p>
<ul>
<li>什麼是測試？</li>
<li>為什麼要寫測試？</li>
<li>測試分成哪些類型</li>
<li>有哪些工具可以幫我們完成測試？</li>
<li>測試該從哪開始？</li>
<li>3A 原則</li>
</ul>
<h2 id="什麼是測試？"><a href="#什麼是測試？" class="headerlink" title="什麼是測試？"></a>什麼是測試？</h2><p>我們來看看維基百科怎麼定義。</p>
<blockquote>
<p>測試<br>  描述一種用來促進鑑定軟體的正確性、完整性、安全性和品質的過程。</p>
</blockquote>
<p>寫出簡單明瞭、完整符合需求的程式碼，應該是所有工程師的理想目標</p>
<p>寫測試可以幫助我們達成這個目標<br>當然寫測試的目的並不只有這個</p>
<h2 id="為什麼要寫測試？"><a href="#為什麼要寫測試？" class="headerlink" title="為什麼要寫測試？"></a>為什麼要寫測試？</h2><p>寫測試的好處多多；壞處，我想不太到</p>
<ol>
<li><p>有明確的規格可遵循開發<br> 客戶開出需求給我們，通常是範圍極大，或者沒有聚焦於重點的要求<br> 這時候要做的是將需求轉換為規格，讓我們跟客戶達成共識，有了規格，在日後的開發也會有一套標準能遵循，避免日後的爭議</p>
</li>
<li><p>了解程式的整個脈絡<br> 會將功能切分成好幾個小區塊，設想各種不同的情境，最後將整個情境串連起來，讓我們更能掌握整個程式碼運作的脈絡</p>
</li>
<li><p>保證程式碼能運作<br> 自動化測試能確保我們寫出來的程式在其他情境下是跑得動的</p>
</li>
<li><p>減少 bug 發生的機率<br> 經過不斷地修改、驗收測試，可預期使用者在流程中會遇到哪些 bug ，這些我們可以提前在測試中消除掉，且少了 bug 好處多多，有機會讓開發時程加速，以及重構應該也會更輕鬆哦！</p>
</li>
</ol>
<h2 id="測試分成哪些模式？"><a href="#測試分成哪些模式？" class="headerlink" title="測試分成哪些模式？"></a>測試分成哪些模式？</h2><ul>
<li>測試模式</li>
</ul>
<ol>
<li><p>單元測試<br> 將功能切分成一個個小單位，以不同的狀況及情境去測試，這時候的測試不會碰到資料庫的資料，可使用變數來進行測試。<br> 舉例來說，今天要測試 我買了一件商品後，剩下多少錢<br> 就可以用變數來完成這個測試</p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">RSpec</span>.describe <span class="string">&#x27;purchase&#x27;</span>, <span class="symbol">type:</span> <span class="symbol">:feature</span> <span class="keyword">do</span></span><br><span class="line">  it <span class="string">&#x27;Calculate immediately after shopping&#x27;</span> <span class="keyword">do</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#用變數定義及運算</span></span><br><span class="line">    my_money = <span class="number">100</span></span><br><span class="line">    milk = <span class="number">40</span></span><br><span class="line">      </span><br><span class="line">    available_balance = my_money - milk</span><br><span class="line">    </span><br><span class="line">    expect(available_balance).to be <span class="number">60</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ rspec spec/features/test_spec.rb</span><br><span class="line"></span><br><span class="line">.Finished in 0.0106 seconds (files took 1.65 seconds to load)</span><br><span class="line">1 example, 0 failures</span><br></pre></td></tr></table></figure>
</li>
<li><p>整合測試<br> 是業界比較常寫到的測試，會需要針對資料庫或是外部系統去做資料的新增&#x2F;讀取&#x2F;修改&#x2F;刪除，假設我們今天要做記帳系統，要去測試 使用者每花一次錢，帳戶剩下多少</p>
 <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">RSpec</span>.describe <span class="string">&#x27;purchase&#x27;</span>, <span class="symbol">type:</span> <span class="symbol">:feature</span> <span class="keyword">do</span></span><br><span class="line">  it <span class="string">&quot;Calculate user&#x27;s account immediately after shopping&quot;</span> <span class="keyword">do</span></span><br><span class="line">    account_balance = <span class="title class_">Account</span>.new(<span class="symbol">balance:</span> <span class="number">100</span>)&amp;.balance</span><br><span class="line">    milk_price = <span class="title class_">Product</span>.new(<span class="symbol">price:</span> <span class="number">40</span>)&amp;.price</span><br><span class="line">    </span><br><span class="line">    account_balance = account_balance - milk_price</span><br><span class="line">    </span><br><span class="line">    expect(account_balance).to be <span class="number">60</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ rspec spec/features/test_spec.rb</span><br><span class="line"></span><br><span class="line">Finished in 0.0198 seconds (files took 0.94423 seconds to load)</span><br><span class="line">1 example, 0 failures</span><br></pre></td></tr></table></figure>
</li>
<li><p>系統測試<br> 測試整個應用程式的所有功能，會包含外部的系統(如金流系統)一起測試</p>
</li>
<li><p>使用者接受度測試<br> 應用程式是為了使用者的需求而寫出來的，好用與否也是使用者說的算，所以在上線前必須要先讓使用者測試</p>
</li>
</ol>
<h2 id="測試該從哪裡開始？"><a href="#測試該從哪裡開始？" class="headerlink" title="測試該從哪裡開始？"></a>測試該從哪裡開始？</h2><p>BDD 行動驅動開發</p>
<p>程式開發人員與測試人員一起將需求轉換成規格，<br>需要考量到不同的情境，規劃出不同的腳本，<br>並使用腳本進行測試及開發，<br>降低使用者及開發人員的資訊落差，<br>讓開發出來的功能符合使用者的需求。</p>
<p>TDD 測試驅動開發</p>
<p>當腳本完成後，就會開始進入測試流程，<br>不斷地測試、未通過、撰寫&#x2F;修改程式碼，直到最後通過。</p>
<h2 id="測試分成三大部分-3A-原則"><a href="#測試分成三大部分-3A-原則" class="headerlink" title="測試分成三大部分 3A 原則"></a>測試分成三大部分 3A 原則</h2><p>分別為 Arrange &#x2F; Act &#x2F; Assert，我們拿剛剛的買牛奶例子來解釋</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">RSpec</span>.describe <span class="string">&#x27;purchase&#x27;</span>, <span class="symbol">type:</span> <span class="symbol">:feature</span> <span class="keyword">do</span></span><br><span class="line">  it <span class="string">&#x27;Calculate immediately after shopping&#x27;</span> <span class="keyword">do</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Arrange 安排，將要測試的資料都備齊</span></span><br><span class="line">    my_money = <span class="number">100</span></span><br><span class="line">    milk = <span class="number">40</span></span><br><span class="line">      </span><br><span class="line">    <span class="comment"># Act 執行，撰寫方法並測試</span></span><br><span class="line">    available_balance = my_money - milk</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Assert 驗收，執行結果是否符合預期規格</span></span><br><span class="line">    expect(available_balance).to be <span class="number">60</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>測試通過也不能代表程式碼都是沒有問題的，<br>但是能盡量減少 bug 出現的機率，所以正確的開發流程必須包含測試。</p>
<p>如果開發完再補上測試，可能會有怎麼修都過不了的狀況(遇到會很痛ＱＱ)，<br>這代表程式碼並不符合規格，開發時間也會因此而延長。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2023-01-15</span><i class="fa fa-tag"></i><a class="tag" href="/categories/測試/" title="測試">測試 </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://ninglab.com/test-1/,NingLab,工程師的日常 - 從測試開始 PART 1,;"></a></div></div><div><script src="https://utteranc.es/client.js" repo="cacachang/cacachang.github.io" issue-term="title" theme="github-light" crossorigin="anonymous" async></script></div><div><script type="text/javascript">document.write("<iframe scrolling='no' frameborder='0' sandbox='allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation' style='height: 212px; width: 100%;' src='https://button.like.co/in/embed/a24701770/button?referrer=" + encodeURIComponent(location.href.split("?")[0].split("#")[0]) + "'></iframe>");</script></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/Docker-Dockerfile-and-basic-command-1/" title="Docker - Dockerfile 基本介紹及指令">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/Rails-params/" title="Rails 的 params 背後的運作巧思">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>