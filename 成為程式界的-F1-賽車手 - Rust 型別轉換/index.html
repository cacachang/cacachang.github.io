<!DOCTYPE html><html lang="zh-TW"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>成為程式界的 F1 賽車手 - Rust 型別轉換 · NingLab</title><meta name="description" content="轉換型別在 Rust 中該怎麼轉換型別呢？
只要加上 as 就可以了
讓我們來看一下吧
12345678910fn main() &amp;#123;    let price: f32 = 18.5;    println!(&amp;quot;&amp;#123;&amp;#125;&amp;quot;, price);    let"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><script async src="https://www.googletagmanager.com/gtag/js?id=G-4P2R013PGL"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-4P2R013PGL')
</script><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.jpeg" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/ning.jpg" style="width:200px;"><h3 title=""><a href="/">NingLab</a></h3></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://twitter.com/ningchang_"><i class="fa fa-twitter"></i></a></li><li><a target="_blank" rel="noopener" href="https://github.com/cacachang"><i class="fa fa-github"></i></a></li><li><a href="mailto:a24701770@gmail.com"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.instagram.com/web543_/"><i class="fa fa-instagram"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/%E7%8F%88%E5%AF%A7-%E5%BC%B5-140a86125/"><i class="fa fa-linkedin"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCwRiNPzYITZWaif23HTmHZQ"><i class="fa fa-youtube"></i></a></li></ul><div class="footer"><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首頁</a></li><li><a href="/archives">文章</a></li><li><a href="/categories">目錄</a></li><li><a href="/about">關於 Ning</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>成為程式界的 F1 賽車手 - Rust 型別轉換</a></h3></div><div class="post-content"><h3 id="轉換型別"><a href="#轉換型別" class="headerlink" title="轉換型別"></a>轉換型別</h3><p>在 Rust 中該怎麼轉換型別呢？</p>
<p>只要加上 <code>as</code> 就可以了</p>
<p>讓我們來看一下吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let price: f32 = 18.5;</span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, price);</span><br><span class="line"></span><br><span class="line">    let modified_price = price as i8;</span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, modified_price);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果： 18.5</span><br><span class="line"># 結果： 18</span><br></pre></td></tr></table></figure>

<p>不過如果今天要把整數轉成字呢？</p>
<p>他會依照 Unicode 編碼來進行轉換，不過要注意的是，只有 <code>u8</code> 能轉換成 <code>char</code> 哦，因為 Unicode 的編碼並不多，所以只適用在 <code>u8</code> 範圍</p>
<p>而這個數字在 Unicode 編碼沒有對應的字，就會顯示空的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let num: u8 = 33;</span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, num);</span><br><span class="line"></span><br><span class="line">    let character = num as char;</span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, character);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果： 33</span><br><span class="line"># 結果： !</span><br></pre></td></tr></table></figure>

<p>雖然 Rust 可以用 <code>as</code> 方式去轉換型別，不過也不是所有的型別都可以轉換過去哦</p>
<p>就像我們剛剛要轉換成 <code>char</code> 時，只有 <code>u8</code> 能夠轉</p>
<h3 id="運算式"><a href="#運算式" class="headerlink" title="運算式"></a>運算式</h3><p>在介紹基本型別後，我們要開始進入邏輯階段了！</p>
<p>首先要來認識一下運算子</p>
<p>在 Rust 中有幾個運算式</p>
<ul>
<li>算術運算式</li>
<li>複合指定運算式</li>
<li>邏輯運算式</li>
<li>比較運算式</li>
</ul>
<p>我們直接一個一個來介紹</p>
<h4 id="算術運算式"><a href="#算術運算式" class="headerlink" title="算術運算式"></a>算術運算式</h4><p>顧名思義就是加減乘除，還有多一個餘數</p>
<h5 id="要用加法的話，使用"><a href="#要用加法的話，使用" class="headerlink" title="要用加法的話，使用 +"></a>要用加法的話，使用 <code>+</code></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let num1: i8 = 33;</span><br><span class="line">    let num2: i8 = 20;</span><br><span class="line">    let total = num1 + num2;</span><br><span class="line"></span><br><span class="line">    println!(&quot;num1 + num2 = &#123;&#125;&quot;, total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果：num1 + num2 = 53</span><br></pre></td></tr></table></figure>

<h5 id="減法使用"><a href="#減法使用" class="headerlink" title="減法使用 -"></a>減法使用 <code>-</code></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let num1: i8 = 33;</span><br><span class="line">    let num2: i8 = 20;</span><br><span class="line">    let total = num1 - num2;</span><br><span class="line"></span><br><span class="line">    println!(&quot;num1 - num2 = &#123;&#125;&quot;, total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果：num1 + num2 = 13</span><br></pre></td></tr></table></figure>

<h5 id="乘法使用"><a href="#乘法使用" class="headerlink" title="乘法使用 *"></a>乘法使用 <code>*</code></h5><p>這邊我把型別都改成了 <code>i32</code>，因為 <code>i8</code> 無法支援相乘後的結果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let num1: i32 = 33;</span><br><span class="line">    let num2: i32 = 20;</span><br><span class="line"></span><br><span class="line">    let total = num1 * num2;</span><br><span class="line"></span><br><span class="line">    println!(&quot;num1 * num2 = &#123;&#125;&quot;, total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果：num1 * num2 = 660</span><br></pre></td></tr></table></figure>

<h5 id="除法使用"><a href="#除法使用" class="headerlink" title="除法使用 /"></a>除法使用 <code>/</code></h5><p>這邊要注意，整數相除的結果會是整數，浮點數相除的結果會是浮點數</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let num1: i8 = 33;</span><br><span class="line">    let num2: i8 = 20;</span><br><span class="line"></span><br><span class="line">    let total = num1 / num2;</span><br><span class="line"></span><br><span class="line">    println!(&quot;num1 / num2 = &#123;&#125;&quot;, total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果：num1 / num2 = 1</span><br></pre></td></tr></table></figure>

<h5 id="取餘數使用"><a href="#取餘數使用" class="headerlink" title="取餘數使用 %"></a>取餘數使用 <code>%</code></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let num1: i8 = 33;</span><br><span class="line">    let num2: i8 = 20;</span><br><span class="line"></span><br><span class="line">    let total = num1 % num2;</span><br><span class="line"></span><br><span class="line">    println!(&quot;num1 % num2 = &#123;&#125;&quot;, total);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果：num1 % num2 = 13</span><br></pre></td></tr></table></figure>

<p>以上是基本的加減乘除，相信大家到這邊應該都可以輕易理解，接下來我們就進入 <code>複合指定運算式</code></p>
<h3 id="複合指定運算式"><a href="#複合指定運算式" class="headerlink" title="複合指定運算式"></a>複合指定運算式</h3><p>在前幾天有提到，要定義變數使用 <code>=</code> 去變動，這是所謂的指定運算子</p>
<p>那 <code>複合指定運算式</code> 是什麼？</p>
<p>當我們想針對原本的數值做加減乘除，就可以使用 複合指定運算式</p>
<p>我們直接用舉例會比較清楚</p>
<p>以加法來說，假設今天有個變數 a 的值是 2 ，我希望改變他的值，讓他 +1 後變成 3，我們就可以用 <code>+=</code> 來達成</p>
<p>在看範例之前，我們來了解 <code>+=</code> 是怎麼解讀</p>
<p><code>num += 2</code> 可以解讀成 <code>num = num + 2</code></p>
<p>減乘除、求餘數同理，在運作子後面加上 <code>=</code> 即可成立囉</p>
<p>減乘除、求餘數會分別是(<code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code>) </p>
<p>(記得要加上 mut ，不然會噴錯喔！)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let mut num1: i8 = 33;</span><br><span class="line"></span><br><span class="line">    num1 += 2;</span><br><span class="line"></span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, num1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果：35</span><br></pre></td></tr></table></figure>

<h3 id="比較運算式"><a href="#比較運算式" class="headerlink" title="比較運算式"></a>比較運算式</h3><p>基本上就是 <code>&gt;</code> <code>&lt;</code> <code>=</code> 這類的比較</p>
<p>結果會返回一個布林值，讓我們直接來看範例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let greater = 5 &gt; 3;</span><br><span class="line"></span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, greater);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果：true</span><br></pre></td></tr></table></figure>

<p>會有哪些比較運算式呢？</p>
<p><code>&gt;</code> 左邊大於右邊 成立的時候返回 <code>true</code> ，反之 <code>false</code><br><code>&gt;=</code> 左邊大於或等於右邊 成立的時候返回 <code>true</code>，反之 <code>false</code><br><code>&lt;</code> 左邊小於右邊 成立的時候返回 <code>true</code> ，反之 <code>false</code><br><code>&lt;=</code> 左邊小於或等於右邊 成立的時候返回 <code>true</code> ，反之 <code>false</code><br><code>==</code> 左邊等於右邊 成立的時候返回 <code>true</code> ，反之 <code>false</code><br><code>!=</code> 左邊不等於右邊 成立的時候返回 <code>true</code> ，反之 <code>false</code></p>
<h3 id="邏輯運算式"><a href="#邏輯運算式" class="headerlink" title="邏輯運算式"></a>邏輯運算式</h3><p>這邊可能就要稍微動動理解力！</p>
<p>會有三個邏輯運算式，我們以下詳細講解：</p>
<h5 id=""><a href="#" class="headerlink" title="&amp;&amp;"></a>&amp;&amp;</h5><p><code>&amp;&amp;</code> 當兩邊的條件式都成立時(結果都是 true ) 即返回 true，反之 <code>false</code> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let greater = 5 &gt; 3;</span><br><span class="line">    let less = 6 &gt; 4;</span><br><span class="line"></span><br><span class="line">    # greater 跟 less 都是 true，因此 operate 也會是 true</span><br><span class="line">    let operation = greater &amp;&amp; less;</span><br><span class="line"></span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, operation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果： true</span><br></pre></td></tr></table></figure>

<p>來稍微動個手腳，把 less 結果變成 <code>false</code></p>
<p>這時候 operation 就會變成 <code>false</code></p>
<p>因為 <code>&amp;&amp;</code> 是在兩個條件式都是 <code>true</code> 的情況下才會是 <code>true</code></p>
<p>其中一個不是 <code>true</code> 或者是 第一個就是 <code>false</code> ，就會直接返回 <code>false</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let greater = 5 &gt; 3;</span><br><span class="line">    let less = 6 &lt; 4;</span><br><span class="line"></span><br><span class="line">    let operation = greater &amp;&amp; less;</span><br><span class="line"></span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, operation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果： false</span><br></pre></td></tr></table></figure>

<h5 id="-1"><a href="#-1" class="headerlink" title="||"></a>||</h5><p><code>||</code> 當其中一邊的條件式成立時(某一邊結果是 true) 即返回 true，反之 <code>false</code></p>
<p>拿剛剛的例子來做範例，我們改一下運算子為 <code>||</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let greater = 5 &gt; 3;</span><br><span class="line">    let less = 6 &lt; 4;</span><br><span class="line"></span><br><span class="line">    # greater 為 true ， less 為 false，以 || 來看只要有個 true，就無條件返回 true</span><br><span class="line">    let operation = greater || less;</span><br><span class="line"></span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, operation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果： true</span><br></pre></td></tr></table></figure>

<p>如果兩個結果都是 false 呢？ 就會返回 false</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let greater = 5 &lt; 3;</span><br><span class="line">    let less = 6 &lt; 4;</span><br><span class="line"></span><br><span class="line">    # greater 為 true ， less 為 false，以 || 來看只要有個 true，就無條件返回 true</span><br><span class="line">    let operation = greater || less;</span><br><span class="line"></span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, operation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果： false</span><br></pre></td></tr></table></figure>

<h5 id="-2"><a href="#-2" class="headerlink" title="!"></a>!</h5><p><code>!</code> 代表相反的意思</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let less = 6 &lt; 4;</span><br><span class="line"></span><br><span class="line">    # 原本的 less 為 false，加了 ! 後反轉，因此 operation 就成了 true</span><br><span class="line">    let operation = !less;</span><br><span class="line"></span><br><span class="line">    println!(&quot;&#123;&#125;&quot;, operation);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 結果： ture</span><br></pre></td></tr></table></figure>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2024-09-07</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Rust/" title="Rust">Rust </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://ninglab.com/成為程式界的-F1-賽車手 - Rust 型別轉換/,NingLab,成為程式界的 F1 賽車手 - Rust 型別轉換,;"></a></div></div><div><script src="https://utteranc.es/client.js" repo="cacachang/cacachang.github.io" issue-term="title" theme="github-light" crossorigin="anonymous" async></script></div><div><script type="text/javascript">document.write("<iframe scrolling='no' frameborder='0' sandbox='allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation' style='height: 212px; width: 100%;' src='https://button.like.co/in/embed/a24701770/button?referrer=" + encodeURIComponent(location.href.split("?")[0].split("#")[0]) + "'></iframe>");</script></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/%E6%88%90%E7%82%BA%E7%A8%8B%E5%BC%8F%E7%95%8C%E7%9A%84%20F1%20%E8%B3%BD%E8%BB%8A%E6%89%8B%20-%20Rust%20%E8%88%87%E8%AE%8A%E6%95%B8%E5%80%91/" title="成為程式界的 F1 賽車手 - Rust 與變數們">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>