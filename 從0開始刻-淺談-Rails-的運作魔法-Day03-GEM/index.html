<!DOCTYPE html><html lang="zh-TW"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>從0開始刻 淺談 Rails 的運作魔法 - Day03 GEM · NingLab</title><meta name="description" content="用過 Rails 應該對於 gem 不會太陌生好用一直用，但你知道 gem 是什麼嗎？
RubygemRubygem 就很像一個五金行囊括所有應用在Ruby上的套件

GEM是什麼？想像一下，當我們要組家具大部分的人應該都直接去家具店挑或是到 IKEA 買回來 DIY少數專業的師傅可能會自己取材製作"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><script async src="https://www.googletagmanager.com/gtag/js?id=G-4P2R013PGL"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-4P2R013PGL')
</script><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.jpeg" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.1.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/ning.jpg" style="width:200px;"><h3 title=""><a href="/">NingLab</a></h3></div></div><ul class="social-links"><li><a target="_blank" rel="noopener" href="https://twitter.com/ningchang_"><i class="fa fa-twitter"></i></a></li><li><a target="_blank" rel="noopener" href="https://github.com/cacachang"><i class="fa fa-github"></i></a></li><li><a href="mailto:a24701770@gmail.com"><i class="fa fa-envelope"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.instagram.com/web543_/"><i class="fa fa-instagram"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.linkedin.com/in/cacachang/"><i class="fa fa-linkedin"></i></a></li><li><a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCwRiNPzYITZWaif23HTmHZQ"><i class="fa fa-youtube"></i></a></li></ul><div class="footer"><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首頁</a></li><li><a href="/archives">文章</a></li><li><a href="/categories">目錄</a></li><li><a href="/about">關於 Ning</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.jpeg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>從0開始刻 淺談 Rails 的運作魔法 - Day03 GEM</a></h3></div><div class="post-content"><p>用過 Rails 應該對於 gem 不會太陌生<br>好用一直用，但你知道 gem 是什麼嗎？</p>
<h2 id="Rubygem"><a href="#Rubygem" class="headerlink" title="Rubygem"></a>Rubygem</h2><p>Rubygem 就很像一個五金行<br>囊括所有應用在Ruby上的套件</p>
<p><img src="https://i.imgur.com/Fdf9rk1.jpg"></p>
<h2 id="GEM是什麼？"><a href="#GEM是什麼？" class="headerlink" title="GEM是什麼？"></a>GEM是什麼？</h2><p>想像一下，當我們要組家具<br>大部分的人應該都直接去家具店挑<br>或是到 IKEA 買回來 DIY<br>少數專業的師傅可能會自己取材製作</p>
<p>其中 IKEA 販售的傢俱組合<br>被完善處理過的零組件就像是GEM<br>可以讓我們更快速地組好傢俱<br>且功能也很完整✨</p>
<p>寫程式時，不可能所有功能都手刻<br>所以我們需要適時引入套件<br>讓我們寫的網頁、應用程式功能更完善</p>
<p><img src="https://i.imgur.com/UqV5nHz.jpg"></p>
<p>不同的GEM套件有不同的功能<br>這邊舉例一些比較常用的GEM</p>
<ol>
<li>加入特別的功能到專案中</li>
<li>更順利的安裝API</li>
<li>建立一個網頁應用程式</li>
</ol>
<p>有這些套件，我們就能專心在開發上👩‍💻👨‍💻🧑‍💻<br>順帶一提，我們所使用的 Rails 也是 GEM 的一種哦！</p>
</br>

<h2 id="GEM套件組成"><a href="#GEM套件組成" class="headerlink" title="GEM套件組成"></a>GEM套件組成</h2><p>讓我們來拆解一下 GEM 裡面的檔案<br>之後手刻會遇到，各位可以稍微了解一下😉</p>
<p><img src="https://i.imgur.com/9kQkc9i.jpg"></p>
<h2 id="gem指令"><a href="#gem指令" class="headerlink" title="gem指令"></a>gem指令</h2><p>既然知道 GEM 這麼好用<br>那我們也要知道如何使用！</p>
<h3 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h3><p>在終端機打 gem install + GEM 名稱即可安裝</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install nokogiri</span><br></pre></td></tr></table></figure>

<h3 id="搜尋"><a href="#搜尋" class="headerlink" title="搜尋"></a>搜尋</h3><p>搜尋 Rubygem 裡面的套件，可以搭配正則表示法</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; gem search rack</span><br><span class="line"></span><br><span class="line">*** <span class="variable constant_">REMOTE</span> <span class="variable constant_">GEMS</span> ***</span><br><span class="line"></span><br><span class="line">airake (<span class="number">0.4</span>.<span class="number">5</span>)</span><br><span class="line">airbrake (<span class="number">13.0</span>.<span class="number">2</span>)</span><br><span class="line">airbrake-api (<span class="number">4.6</span>.<span class="number">1</span>)</span><br><span class="line">airbrake-extended (<span class="number">0.0</span>.<span class="number">8</span>)</span><br><span class="line">airbrake-faraday_sender (<span class="number">0.1</span>.<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3 id="列出已經安裝的套件"><a href="#列出已經安裝的套件" class="headerlink" title="列出已經安裝的套件"></a>列出已經安裝的套件</h3><p>開啟套件清點簿！</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt; gem list</span><br><span class="line"></span><br><span class="line">*** <span class="variable constant_">LOCAL</span> <span class="variable constant_">GEMS</span> ***</span><br><span class="line"></span><br><span class="line">actioncable (<span class="number">7.0</span>.<span class="number">3</span>, <span class="number">6.1</span>.<span class="number">6.1</span>, <span class="number">6.1</span>.<span class="number">6</span>, <span class="number">6.1</span>.<span class="number">4.6</span>)</span><br><span class="line">actionmailbox (<span class="number">7.0</span>.<span class="number">3</span>, <span class="number">6.1</span>.<span class="number">6.1</span>, <span class="number">6.1</span>.<span class="number">6</span>, <span class="number">6.1</span>.<span class="number">4.6</span>)</span><br><span class="line">actionmailer (<span class="number">7.0</span>.<span class="number">3</span>, <span class="number">6.1</span>.<span class="number">6.1</span>, <span class="number">6.1</span>.<span class="number">6</span>, <span class="number">6.1</span>.<span class="number">4.6</span>)</span><br><span class="line">actionpack (<span class="number">7.0</span>.<span class="number">3</span>, <span class="number">6.1</span>.<span class="number">6.1</span>, <span class="number">6.1</span>.<span class="number">6</span>, <span class="number">6.1</span>.<span class="number">4.6</span>, <span class="number">5.2</span>.<span class="number">2</span>)</span><br><span class="line">actiontext (<span class="number">7.0</span>.<span class="number">3</span>, <span class="number">6.1</span>.<span class="number">6.1</span>, <span class="number">6.1</span>.<span class="number">6</span>, <span class="number">6.1</span>.<span class="number">4.6</span>)</span><br></pre></td></tr></table></figure>

<h3 id="卸載"><a href="#卸載" class="headerlink" title="卸載"></a>卸載</h3><p>一言不合就解除！解除安裝套件 </p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem uninstall rake</span><br></pre></td></tr></table></figure>

</br>

<h2 id="我知道GEM是什麼了，但是Gemfile又是什麼？"><a href="#我知道GEM是什麼了，但是Gemfile又是什麼？" class="headerlink" title="我知道GEM是什麼了，但是Gemfile又是什麼？"></a>我知道GEM是什麼了，但是Gemfile又是什麼？</h2><p>像是食譜的食材清單<br>要成就一道美食需要哪些食材</p>
<p>Gemfile 寫著你的專案需要哪些gem套件及版本<br>而且不需要使用 require 就能安裝好</p>
<p>下圖是 Gemfile 檔案，裡面清楚註明套件及版本</p>
<p><img src="https://i.imgur.com/5nZIR5D.png"></p>
<p>咦，不用 require 的話，又沒有下達 gem 指令，這些套件要怎麼安裝？</p>
<p>這時候我們就要提到 Bundler</p>
<h2 id="Bundler"><a href="#Bundler" class="headerlink" title="Bundler"></a>Bundler</h2><p>Bundler 像是一種相依性管理的工具<br>雖然說 gem 可以幫我們安裝套件<br>但套件有各種版本<br>版本與版本之間也不一定相依<br>Bundler 可以幫我們解決版本相依性的問題</p>
<p>📌 生活小例子<br>Bundler 很像調解會<br>負責調解人跟人之間的衝突<br>期待化解爭執</p>
<p>雖然 Bundler 會幫我們解決版本相依性問題<br>不過 Bundler 之前，還是要記得確認 gemfile 裡面的套件及版本哦 😉</p>
<h2 id="除了Gemfile，還有gemspec說明書"><a href="#除了Gemfile，還有gemspec說明書" class="headerlink" title="除了Gemfile，還有gemspec說明書"></a>除了Gemfile，還有gemspec說明書</h2><p>.gemspec 包含了 gem 的名字、簡短介紹、作者名稱、相依套件的清單、gem所包含的檔案清單，可能還會有 hompage 等等</p>
<p>如果你想看 gem 的資訊，就可以來這個檔案參觀🤓</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Gem::Specification.new do |spec|</span><br><span class="line"> spec.name          = &quot;rulers&quot;</span><br><span class="line"> spec.version       = Rulers::VERSION</span><br><span class="line"> spec.authors       = [&quot;Ning&quot;]</span><br><span class="line"> spec.email         = [&quot;a24701770@gmail.com&quot;]</span><br><span class="line"></span><br><span class="line"> spec.summary       = %q&#123;&quot;rulers&quot;&#125;</span><br><span class="line"> spec.description   = %q&#123;&#125;</span><br><span class="line"> spec.homepage      = &quot;https://ninglab.com/&quot;</span><br><span class="line"> spec.required_ruby_version = Gem::Requirement.new(&quot;&gt;= 2.3.0&quot;)</span><br></pre></td></tr></table></figure>



<h2 id="Bundler後出現的-Gemfile-lock"><a href="#Bundler後出現的-Gemfile-lock" class="headerlink" title="Bundler後出現的 Gemfile.lock"></a>Bundler後出現的 Gemfile.lock</h2><p>gemfile.lock 像是版本管理資料<br>說明你安裝的套件現在是用哪個版本的</p>
<h2 id="版本介紹"><a href="#版本介紹" class="headerlink" title="版本介紹"></a>版本介紹</h2><p>在 gemfile 應該很常看到一堆數字<br>有時候還會出現 ~&gt;<br>我們來了解一下這些符號跟數字是什麼意思</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指定安裝版本 6.1.4.6</span></span><br><span class="line">gem <span class="string">&#x27;rails&#x27;</span>, <span class="string">&#x27;6.1.4.6&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝大於或等於 1.4.4 的版本</span></span><br><span class="line">gem <span class="string">&#x27;bootsnap&#x27;</span>, <span class="string">&#x27;&gt;= 1.4.4&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝大於 5.0 且相對穩定的版本</span></span><br><span class="line">gem <span class="string">&#x27;webpacker&#x27;</span>, <span class="string">&#x27;~&gt; 5.0&#x27;</span></span><br></pre></td></tr></table></figure>

<p>現在我們來看一下數字的部分<br>以 1.0.2 這個版本來看<br>每個數字及位置各有代表的版本意思</p>
<p>主要版號：將功能大修改，通常硬裝都會失敗，要解除原版本再重裝<br>次要版號：增加新功能，可以覆蓋安裝在原有版本，但有時也會有失敗風險<br>修正版本：微幅調整現有功能，通常可以覆蓋安裝</p>
<p><img src="https://i.imgur.com/0chz1AI.jpg"></p>
<p>參考資料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://rubygems.org/">https://rubygems.org/</a></li>
<li><a target="_blank" rel="noopener" href="https://railsbook.tw/chapters/09-using-gems">https://railsbook.tw/chapters/09-using-gems</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/never-hop-on-the-bandwagon/gemfile-and-gemfile-lock-in-ruby-65adc918b856">https://medium.com/never-hop-on-the-bandwagon/gemfile-and-gemfile-lock-in-ruby-65adc918b856</a></li>
</ul>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2022-08-16</span><i class="fa fa-tag"></i><a class="tag" href="/categories/Rebuild-Rails/" title="Rebuild Rails">Rebuild Rails </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,http://ninglab.com/從0開始刻-淺談-Rails-的運作魔法-Day03-GEM/,NingLab,從0開始刻 淺談 Rails 的運作魔法 - Day03 GEM,;"></a></div></div><div><script src="https://utteranc.es/client.js" repo="cacachang/cacachang.github.io" issue-term="title" theme="github-light" crossorigin="anonymous" async></script></div><div><script type="text/javascript">document.write("<iframe scrolling='no' frameborder='0' sandbox='allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation' style='height: 212px; width: 100%;' src='https://button.like.co/in/embed/a24701770/button?referrer=" + encodeURIComponent(location.href.split("?")[0].split("#")[0]) + "'></iframe>");</script></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/%E5%BE%9E0%E9%96%8B%E5%A7%8B%E5%88%BB-%E6%B7%BA%E8%AB%87-Rails-%E7%9A%84%E9%81%8B%E4%BD%9C%E9%AD%94%E6%B3%95-Day-04-%E5%BB%BA%E7%AB%8B%E6%A1%86%E6%9E%B6/" title="從0開始刻 淺談 Rails 的運作魔法 - Day 04 建立框架">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/%E5%BE%9E0%E9%96%8B%E5%A7%8B%E5%88%BB-%E6%B7%BA%E8%AB%87-Rails-%E7%9A%84%E9%81%8B%E4%BD%9C%E9%AD%94%E6%B3%95-Day02-Rack/" title="從0開始刻 淺談 Rails 的運作魔法 Day02 - Rack">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>